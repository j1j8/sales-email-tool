<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Genius</title>
    <style>
        :root { --primary: #007aff; --bg: #f5f5f7; }
        body { font-family: -apple-system, system-ui, sans-serif; background: var(--bg); display: flex; justify-content: center; padding: 40px 20px; }
        .card { background: white; padding: 24px; border-radius: 18px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); width: 100%; max-width: 400px; }
        h2 { margin-top: 0; font-weight: 600; font-size: 1.2rem; color: #1d1d1f; }
        input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #d2d2d7; border-radius: 10px; font-size: 14px; outline: none; box-sizing: border-box; transition: border 0.2s; }
        input:focus { border-color: var(--primary); }
        .label { font-size: 12px; font-weight: 600; color: #86868b; margin-top: 10px; text-transform: uppercase; }
        .results-container { margin-top: 20px; border-top: 1px solid #f2f2f2; padding-top: 15px; }
        .email-row { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-radius: 8px; cursor: pointer; transition: background 0.2s; margin-bottom: 4px; }
        .email-row:hover { background: #f0f7ff; }
        .email-text { font-family: 'SF Mono', monospace; font-size: 13px; color: var(--primary); }
        .copy-hint { font-size: 10px; color: #aeaeae; }
        .footer { font-size: 11px; text-align: center; color: #86868b; margin-top: 20px; }
    </style>
</head>
<body>

<div class="card">
    <h2>Sales Email Finder</h2>
    
    <div class="label">Paste LinkedIn URL</div>
    <input type="text" id="liUrl" placeholder="linkedin.com/in/john-doe-123..." oninput="parseUrl()">

    <div style="display: flex; gap: 10px;">
        <div style="flex: 1;">
            <div class="label">First Name</div>
            <input type="text" id="fn" placeholder="John" oninput="gen()">
        </div>
        <div style="flex: 1;">
            <div class="label">Last Name</div>
            <input type="text" id="ln" placeholder="Doe" oninput="gen()">
        </div>
    </div>

    <div class="label">Company Domain</div>
    <input type="text" id="dom" placeholder="apple.com" oninput="gen()">

    <div id="results" class="results-container"></div>
    <div class="footer">Click any email to copy to clipboard</div>
</div>

<script>
function parseUrl() {
    const url = document.getElementById('liUrl').value;
    const parts = url.split('/in/')[1];
    if (parts) {
        // Extract name, remove trailing slashes and common LinkedIn numeric suffixes
        let namePart = parts.split('/')[0].replace(/-[0-9a-z]+$/, '');
        let names = namePart.split('-');
        if (names.length >= 2) {
            document.getElementById('fn').value = names[0].charAt(0).toUpperCase() + names[0].slice(1);
            document.getElementById('ln').value = names[1].charAt(0).toUpperCase() + names[1].slice(1);
            gen();
        }
    }
}

function gen() {
    const f = document.getElementById('fn').value.toLowerCase().trim();
    const l = document.getElementById('ln').value.toLowerCase().trim();
    const d = document.getElementById('dom').value.toLowerCase().trim().replace(/https?:\/\//, '').replace('www.', '');
    const res = document.getElementById('results');
    
    if (!f || !l || !d) { res.innerHTML = ''; return; }

    const formats = [
        `${f}.${l}@${d}`,
        `${f}@${d}`,
        `${f}${l}@${d}`,
        `${f.charAt(0)}${l}@${d}`,
        `${f}${l.charAt(0)}@${d}`
    ];

    res.innerHTML = formats.map(email => `
        <div class="email-row" onclick="copy('${email}')">
            <span class="email-text">${email}</span>
            <span class="copy-hint">TAP TO COPY</span>
        </div>
    `).join('');
}

function copy(text) {
    navigator.clipboard.writeText(text);
    const originalTitle = document.querySelector('h2').innerText;
    document.querySelector('h2').innerText = "Copied!";
    setTimeout(() => { document.querySelector('h2').innerText = "Sales Email Finder"; }, 1000);
}
</script>

</body>
</html>
